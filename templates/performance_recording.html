<!DOCTYPE html>
<html lang="de" dir="ltr" prefix="content: http://purl.org/rss/1.0/modules/content/  dc: http://purl.org/dc/terms/  foaf: http://xmlns.com/foaf/0.1/  og: http://ogp.me/ns#  rdfs: http://www.w3.org/2000/01/rdf-schema#  schema: http://schema.org/  sioc: http://rdfs.org/sioc/ns#  sioct: http://rdfs.org/sioc/types#  skos: http://www.w3.org/2004/02/skos/core#  xsd: http://www.w3.org/2001/XMLSchema# ">
  <head>
    <meta charset="utf-8" />
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="/sites/default/files/favicon_0.ico" type="image/vnd.microsoft.icon" />
<link rel="alternate" hreflang="de" href="https://www.compor-ag.de/de/node/29" />
<link rel="canonical" href="/de/node/29" />
<link rel="shortlink" href="/de/node/29" />
<link rel="revision" href="/de/node/29" />

    <title>{{ application }} Zeiterfassung</title>
    <script type="text/javascript" src="{{ url_for('static', filename="epoch_calendar.js") }}"></script>
    <script type="text/javascript">
        //<![CDATA[
        let gui_focus_id;

        function SetFocusId(i_id) {
            gui_focus_id = i_id;
        }

        function SetFocus() {
            let el = document.getElementById(gui_focus_id);
            if (el) {
                el.focus();
                if (el.select) {
                    el.select();
                }

            }

        }

        //]]>
    </script>
    
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename="style.css") }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename="css_cps_drupal.css") }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename="css_UmV_drupal.css") }}">


    <style type="text/css">
        .bgclr {
            background-color: white;
        }

        .head, .head_big {
            border-color: white;
        }
    </style>

    
<!--[if lte IE 8]>
<script src="/sites/default/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->

  </head>
  <body class="path-node page-node-type-article" onload="setKalender()">
    <a href="#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    

<!-- Header and Navbar -->
<header class="main-header">
  <nav class="navbar topnav navbar-default" role="navigation">
    <div class="container">
      <div class="row">
      <div class="navbar-header col-md-3">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
                    <div class="region region-header">
    <div id="block-businessgroup-zymphonies-theme-branding" class="site-branding block block-system block-system-branding-block">
  
      
        <div class="brand logo">

           <a href="{{ url_for("main_menu.main_menu") }}" class="logo"><img
                    src="{{ url_for('static', filename="compor-project.logo.png") }}" alt="{{ application }} Hauptmenü"
                    title="{{ application }} Hauptmenü" style="height: 70px;"></a>

    </div>
    </div>

  </div>

              </div>

      <!-- Navigation -->
      <div class="col-md-9">
                    <div class="region region-primary-menu">
    <nav role="navigation" aria-labelledby="block-businessgroup-zymphonies-theme-main-menu-menu" id="block-businessgroup-zymphonies-theme-main-menu">
            
  <h2 class="visually-hidden" id="block-businessgroup-zymphonies-theme-main-menu-menu">Main navigation</h2>
  

        
              <ul class="sm menu-base-theme" id="main-menu"  class="menu nav navbar-nav">
                      <li class="active">
        <a href="{{ url_for("performance_recording.performance_recording", user_id=user.id, calendar_week=calendar_week) }}"
                                    id="MEI_023" class="navigation" accesskey="A"> Zeiterfassung</a>
                  </li>
                  <li>
                  <a href="{{ url_for("reports.reports", user_id=user.id) }}"
                            id="MEI_022"
                            class="navigation" accesskey="B">Berichte</a>
			</li>
                  <li>
                <a href="{{ url_for("user_routes.user_editor") }}">{{user.name }}</a>
		</li>
{% if not admin %} <!-- {% endif %}
                <li>
                <a href="{{ url_for("controlling.controlling") }}" title="Controlling">Controlling</a>
                </li>
                {% if not admin %} --> {% endif %}
<li>
                <a href="{{ url_for("user_routes.logout") }}" title="Abmelden vom Anmeldeverbund">Abmelden</a>

                  </li>
        </ul>
  


  </nav>

  </div>

              
      </div>
      <!--End Navigation -->

      </div>
    </div>
  </nav>

</header>
<!--End Header & Navbar -->



<!-- Page Title -->
  <div id="page-title">
    <div id="page-title-inner">
      <!-- start: Container -->
      <div class="container">
          <div class="region region-page-title">
    <div id="block-businessgroup-zymphonies-theme-page-title" class="block block-core block-page-title-block">
  
 <h1>{{ application }} Zeiterfassung</h1>
      <div class="content">
    </div>
  </div>

  </div>

      </div>
    </div>
  </div>
<!-- End Page Title ---- >


<!-- layout -->
<div id="wrapper">
  <!-- start: Container -->
  <div class="container">
    
    <!--start:content -->
    <div class="row">
      <div class="col-md-12"></div>
    </div>

    <div class="row layout">
      <!--- Start Left SideBar -->
            <!---End Right SideBar -->

      <!--- Start content -->
              <div class="content_layout">
          <div class=col-md-12>
              <div class="region region-content">
    <div id="block-businessgroup-zymphonies-theme-content" class="block block-system block-system-main-block">
  
      
      <div class="content">
      
<article data-history-node-id="29" role="article" about="/de/node/29" typeof="schema:Article" class="node node--type-article node--promoted node--view-mode-full">
  
      <span property="schema:name" content="Zeiterfassung" class="hidden"></span>


  
  <div class="node__content">
    
<table align="center" border="0" cellpadding="3" cellspacing="3" summary="Inhaltsübersicht">
	<tbody>
		<tr>
			<td style="vertical-align: top;">
            <noscript>Java Script ist deaktiviert.</noscript>
            <br>
            <noscript>Bitte aktivieren Sie Java Script.</noscript>
            <div id="waitDisplay" class="content" style="display: none;"><br>
                Die Daten werden geladen. Bitte haben Sie etwas Geduld.
            </div>
            <div id="delayedDisplay" class="content" style="display: inline;">

                <script type="text/javascript">
                    let cal;

                    function getWeekNumber(d) {
                        // https://stackoverflow.com/a/6117889
                        // Copy date so don't modify original
                        d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                        // Set to nearest Thursday: current date + 4 - current day number
                        // Make Sunday's day number 7
                        d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7));
                        // Get first day of year
                        let yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
                        // Calculate full weeks to nearest Thursday
                        let weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
                        // Return array of year and week number
                        return weekNo;
                    }

                    function SubmitForm(action) {
                        console.log(action)
                        if (action === "Speichern")
                            document.forms[0].submit();
                        else if (action === "clickOnDay") {
                            // Tue Jul 14 2020 00:00:00 GMT+0200 (Mitteleuropäische Sommerzeit)
                            let selectedDate = cal.selectedDates[0];
                            let date = new Date(selectedDate);
                            let weekNumber = getWeekNumber(date);
                            if (!isNaN(weekNumber)) {
                                if (window.location.href.endsWith(weekNumber.toString()))
                                    return

                                let redirect_to = "{{ url_for("performance_recording.performance_recording", user_id=user.id, calendar_week="")}}" + weekNumber
                                window.open(redirect_to, "_self");
                            }
                        }
                    }

function getDateOfISOWeek(w, y) {
    var simple = new Date(y, 0, 1 + (w - 1) * 7);
    var dow = simple.getDay();
    var ISOweekStart = simple;
    if (dow <= 4)
        ISOweekStart.setDate(simple.getDate() - simple.getDay() + 1);
    else
        ISOweekStart.setDate(simple.getDate() + 8 - simple.getDay());
    return ISOweekStart;
}
                    function setKalender() {
                        cs_next_month = "Nächster Monat";
                        cs_prev_month = "Voriger Monat";
                        cs_max_range = "Dies ist die maximale Zeitspanne";
                        ps_access_key = "1";
                        pi_tab_offset = 20;
                        cs_calender_dy = "Di-";
                        cs_calender_wk = "Mo";
                        MONTH_NAMES_SHORT = ["Jan", "Feb", "Mar", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez"];
                        DAY_NAMES_SHORT = ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa", "So"];
                        let container = document.getElementById("calendar_container");
                        cal = new Epoch('cal', 'flat', container, false);												      				
			highlight_date = getDateOfISOWeek({{calendar_week}}, 2022 );
			let month = highlight_date.getMonth();
		 	

//set attribute values for date2
highlight_date.type = "holiday";
highlight_date.title = "KW {{calendar_week}}";
	       var myArray = new Array(highlight_date);
	       cal.addDates(myArray); //add the dates and display them on the calendar!
			cal.goToMonth(2022,month);
			// cal.resetSelections(); //clear all dates, rows, and columns
			cal.addDates(myArray , true);
                    }

                    //]]>
		</script></div>


                                <div id="calendar_container" onclick="SubmitForm('clickOnDay')"></div>

</td>
<td style="width:1em;">&nbsp;
</td>
			<td style="text-align: center;">
				                <form method="post"
                      action="{{ url_for("performance_recording.expense_recording_submit", user_id=user.id, calendar_week=calendar_week) }}"
                      name="pform">

			<table border="0" cellpadding="5" cellspacing="5" style="width: 100%;">
				<thead>
					<tr>
						<th scope="row" style="text-align:right;"><h2 style="color:#26bcf7;">KW {{calendar_week}}</h2></th>
						<th scope="col" style="width: 2em;"> </th>
					{% for day in generate_array_of_weekdays_for_week(calendar_week) %}
                                <th style="text-align:center;">
				    <h3 style="color:#26bcf7;">{{ format_date_day_month(day) }}</h3>
                                </th>
                            {% endfor %}

					</tr>

				</thead>
				<tbody>
		       {% for working_hour in working_hours %}
                            <tr  >
                                <td style="text-align:right; ">
					<h3>{{ working_hour.project_name|safe }}</h3>

                                </td>
				 <td></td>

                                <td>
                                    <input type="text" name="{{ working_hour.project_id }}_monday"
                                           size="5" tabindex="131" style="text-align:center; border-style: none; border-right: solid; border-right-color: #bce9fb;"
                                           value="{{ working_hour.monday|safe }}">
                                </td>
                                <td>
                                    <input type="text" name="{{ working_hour.project_id }}_tuesday"
                                           size="5" tabindex="163" style="text-align:center;border-style: none; border-right: solid; border-right-color: #bce9fb;"
                                           value="{{ working_hour.tuesday|safe }}">
                                </td>
                                <td>
                                    <input type="text" name="{{ working_hour.project_id }}_wednesday"
                                           size="5" tabindex="195" style="text-align:center;border-style: none; border-right: solid; border-right-color: #bce9fb;"
                                           value="{{ working_hour.wednesday|safe }}">
                                </td>
                                <td>
                                    <input type="text" name="{{ working_hour.project_id }}_thursday"
                                           size="5" tabindex="227" style="text-align:center;border-style: none; border-right: solid; border-right-color: #bce9fb;"
                                           value="{{ working_hour.thursday|safe }}">
                                <td>
                                    <input type="text" name="{{ working_hour.project_id }}_friday"
                                           size="5" tabindex="259" style="text-align:center;border-style: none;"
                                           value="{{ working_hour.friday|safe }}">
                                </td>
                            </tr>
                        {% endfor %}
                            <tr>
				    <td colspan=2>&nbsp;</td>
				    <td colspan=6><br><input type="button" id="button9" class="tc_submit" onclick="SubmitForm('Speichern')"
                                       tabindex="279" value="Speichern">
</td>
			    </tr>

				</tbody>
			</table>
			</form>
			</td>
		</tr>
	</tbody>
</table>




<script type="text/javascript">
    //<![CDATA[
    SetFocus();
    //]]>
</script>

</div>
      
  </div>

</article>

    </div>
  </div>

  </div>

          </div>
        </div>
            <!---End content -->

      
    </div>
    <!--End Content -->
  </div>
</div>
<!-- End layout -->



<!-- Start bottom -->
<!--End Bottom -->


<!-- Start Footer Menu -->
  <div class="footer-menu">
    <div class="container">
      <div class="row">
        <div class="col-sm-6">
            <div class="region region-footer-menu">
    <nav role="navigation" aria-labelledby="block-businessgroup-zymphonies-theme-footer-menu" id="block-businessgroup-zymphonies-theme-footer">
            
  <h2 class="visually-hidden" id="block-businessgroup-zymphonies-theme-footer-menu">Footer menu</h2>
  

        
              <ul class="menu">
                    <li class="menu-item">
        <a href="/de/node/10" data-drupal-link-system-path="node/10">Impressum</a>
              </li>
                <li class="menu-item">
        <a href="/de/dsgvo" data-drupal-link-system-path="node/7">Datenschutz</a>
              </li>
                <li class="menu-item">
        <a href="/de/contact" data-drupal-link-system-path="contact">Contact</a>
              </li>
        </ul>
  


  </nav>

  </div>

        </div>
              </div>
    </div>
  </div>
<!-- End Footer Menu -->


<div class="copyright">
  <div class="container">
    <div class="row">

      <!-- Copyright -->
      <div class="col-sm-6">
        <p>{{ generate_server_signature() }} </p>
      </div>
      <!-- End Copyright -->

      <!-- Credit link -->
              <div class="col-sm-6">

          <p class="credit-link">Designed By <a href="http://www.zymphonies.com" target="_blank">Zymphonies</a></p>
        </div>
            <!-- End Credit link -->
      
    </div>
  </div>
</div>


<!-- Google map -->
<!-- End Google map -->

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"de\/","currentPath":"node\/29","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"de"},"pluralDelimiter":"\u0003","ajaxPageState":{"libraries":"businessgroup_zymphonies_theme\/bootstrap,businessgroup_zymphonies_theme\/global-components,classy\/node,core\/html5shiv,system\/base,views\/views.module","theme":"businessgroup_zymphonies_theme","theme_token":null},"ajaxTrustedUrl":{"\/de\/search\/node":true},"user":{"uid":0,"permissionsHash":"dcd9f19ac3a2784b5a604957a0a200e9a527e65cc216f6735af6bf882103da90"}}</script>
<script src="/sites/default/files/js/js_1kKrUmbcBRipPuafli03XZ_PjPiWi5MRccA4XIqoiAg.js"></script>

  </body>
</html>
